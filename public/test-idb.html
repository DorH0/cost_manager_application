<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test idb.js</title>
</head>
<body>
<h1>Testing idb.js</h1>
<p>Check the browser's developer console (F12) for results.</p>
<script src="./lib/idb.js"></script>
<script>
    async function test() {
        try {
            const db = await idb.openCostsDB("costsdb", 1);
            console.log("DB opened:", db);

            const result1 = await db.addCost({sum: 200, currency: "USD", category: "FOOD", description: "pizza"});
            console.log("Added cost 1:", result1);

            const result2 = await db.addCost({sum: 400, currency: "USD", category: "CAR", description: "fuel"});
            console.log("Added cost 2:", result2);

            if(db) {
                console.log("Creating db succeeded");
            }

            if(result1) {
                console.log("Adding 1st cost item succeeded");
            }

            if(result2) {
                console.log("Adding 2nd cost item succeeded");
            }

            console.log("Test completed successfully.");
        } catch (error) {
            console.error("Test failed:", error);
        }
    }

    test();
</script>
</body>
</html>